!function(){"use strict";function e(){this.hasClass("main-nav--closed")?(this.removeClass("main-nav--closed"),this.addClass("main-nav--opened")):(this.addClass("main-nav--closed"),this.removeClass("main-nav--opened"))}function t(e){e.preventDefault();const t=document.documentElement.clientWidth<768,s=document.querySelectorAll(".main-nav__link");if(e.target.classList.contains("main-nav__link")){const i=document.querySelector(e.target.getAttribute("href")),n=parseFloat(getComputedStyle(i).marginTop)||15,a=t?50:document.querySelector(".page-header").offsetHeight;s.forEach((e=>{e.classList.remove("main-nav__link--active")})),e.target.classList.add("main-nav__link--active"),window.scrollTo({top:i.offsetTop-a-n,behavior:"smooth"}),t&&this.$el.querySelector(".main-nav__toggle").click()}}new class extends class{constructor(e){this.$el=document.querySelector(e),this.init()}init(){}show(){this.$el.classList.remove("visually-hidden"),this.onShow()}hide(){this.$el.classList.add("visually-hidden"),this.onHide()}addClass(e){this.$el.classList.add(e)}removeClass(e){this.$el.classList.remove(e)}hasClass(e){return this.$el.classList.contains(e)}}{constructor(){super(".main-nav")}init(){const s=document.querySelectorAll(".section"),i=this.$el.querySelector(".main-nav__toggle"),n=this.$el.querySelector(".main-nav__list"),a=n.querySelectorAll(".main-nav__link"),l=new IntersectionObserver((function(e){e.forEach((e=>{e.isIntersecting&&a.forEach((t=>{t.classList.toggle("main-nav__link--active",t.getAttribute("href").replace("#","")===e.target.id)}))}))}),{threshold:.7});this.removeClass("main-nav--nojs"),i.addEventListener("click",e.bind(this)),n.addEventListener("click",t.bind(this)),s.forEach((e=>l.observe(e)))}}}();